{"version":3,"sources":["webpack:///./src/views/Register.vue?8d0c","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?382a","webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?2c88"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","logoImg","_v","on","$event","linkTo","ref","model","value","userInfo","callback","$$v","$set","expression","repeatPassword","handleSubmit","staticRenderFns","name","data","account","password","created","methods","checkField","test","$message","error","$refs","focus","encryptUserInfo","CryptoJS","AES","encrypt","toString","$router","push","component"],"mappings":"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","file":"js/Register.69e30204.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('header',{staticClass:\"register__header\"},[_c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":_vm.logoImg,\"alt\":\"logo\"}}),_c('h1',[_vm._v(\"Jigsaw H5\")])]),_c('div',[_c('span',{on:{\"click\":function($event){return _vm.linkTo('Login')}}},[_vm._v(\"去登录\")]),_c('span',{on:{\"click\":function($event){return _vm.linkTo('Welcome')}}},[_vm._v(\"去官网\")])])]),_c('main',{staticClass:\"register__main\"},[_c('form',{staticClass:\"form\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"注 册\")]),_c('el-input',{ref:\"account\",staticClass:\"account\",attrs:{\"placeholder\":\"账号\",\"clearable\":\"\"},model:{value:(_vm.userInfo.account),callback:function ($$v) {_vm.$set(_vm.userInfo, \"account\", $$v)},expression:\"userInfo.account\"}}),_c('el-input',{ref:\"password\",staticClass:\"password\",attrs:{\"placeholder\":\"密码\",\"show-password\":\"\"},model:{value:(_vm.userInfo.password),callback:function ($$v) {_vm.$set(_vm.userInfo, \"password\", $$v)},expression:\"userInfo.password\"}}),_c('el-input',{ref:\"repeatPassword\",staticClass:\"password\",attrs:{\"placeholder\":\"再次输入密码\",\"show-password\":\"\"},model:{value:(_vm.repeatPassword),callback:function ($$v) {_vm.repeatPassword=$$v},expression:\"repeatPassword\"}}),_c('button',{staticClass:\"submit-btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\" 确 认 \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"register\">\n    <header class=\"register__header\">\n      <div class=\"logo\">\n        <img :src=\"logoImg\" alt=\"logo\" />\n        <h1>Jigsaw H5</h1>\n      </div>\n      <div>\n        <span @click=\"linkTo('Login')\">去登录</span>\n        <span @click=\"linkTo('Welcome')\">去官网</span>\n      </div>\n    </header>\n    <main class=\"register__main\">\n      <form class=\"form\">\n        <p class=\"title\">注 册</p>\n        <el-input\n          class=\"account\"\n          ref=\"account\"\n          v-model=\"userInfo.account\"\n          placeholder=\"账号\"\n          clearable\n        />\n        <el-input\n          class=\"password\"\n          ref=\"password\"\n          v-model=\"userInfo.password\"\n          placeholder=\"密码\"\n          show-password\n        />\n        <el-input\n          class=\"password\"\n          ref=\"repeatPassword\"\n          v-model=\"repeatPassword\"\n          placeholder=\"再次输入密码\"\n          show-password\n        />\n        <button class=\"submit-btn\" type=\"button\" @click=\"handleSubmit\">\n          确 认\n        </button>\n      </form>\n    </main>\n  </div>\n</template>\n\n<script>\nimport { register } from \"@/api/user\";\nimport { debounce } from \"lodash\";\nconst CryptoJS = require(\"crypto-js\");\nexport default {\n  name: \"Register\",\n  data() {\n    return {\n      logoImg: require(\"../../public/img/Puzzle.png\"),\n      userInfo: {\n        account: \"\",\n        password: \"\"\n      },\n      repeatPassword: \"\"\n    };\n  },\n  created() {\n    // 防抖处理\n    this.handleSubmit = debounce(this.handleSubmit, 1000, { leading: true });\n  },\n  methods: {\n    /**\n     * 用户注册\n     */\n    async handleSubmit() {\n      if (!this.checkField()) return;\n      const userInfo = this.encryptUserInfo();\n      const { data } = await register(userInfo);\n      if (data.success) {\n        this.$message({\n          message: \"注册成功\",\n          type: \"success\",\n          duration: 1000\n        });\n        this.$router.push({ name: \"Login\" });\n      } else {\n        this.$message.error(data.message);\n      }\n    },\n    /**\n     * 验证字段\n     */\n    checkField() {\n      const {\n        userInfo: { account, password },\n        repeatPassword\n      } = this;\n      if (!account) {\n        this.$message.error(\"账号不能为空\");\n        this.$refs.account.focus();\n        return false;\n      }\n      if (!password) {\n        this.$message.error(\"密码不能为空\");\n        this.$refs.password.focus();\n        return false;\n      }\n      if (!/^[a-zA-Z0-9]{6,10}$/.test(account)) {\n        this.$message.error(\"账号只能为6到10位到数字或字母组合\");\n        this.$refs.account.focus();\n        return false;\n      }\n      if (!/^[a-zA-Z0-9]{6,10}$/.test(password)) {\n        this.$message.error(\"密码只能为6到10位到数字或字母组合\");\n        this.$refs.password.focus();\n        return false;\n      }\n      if (!repeatPassword) {\n        this.$message.error(\"请再输入一次密码\");\n        this.$refs.repeatPassword.focus();\n        return false;\n      }\n      if (password !== repeatPassword) {\n        this.$message.error(\"两次输入的密码不一致\");\n        this.$refs.repeatPassword.focus();\n        return false;\n      }\n      return true;\n    },\n    /**\n     * 将用户信息加密\n     */\n    encryptUserInfo() {\n      let { account, password } = this.userInfo;\n      password = CryptoJS.AES.encrypt(password, \"jigsaw-h5\").toString();\n      return { account, password };\n    },\n    /**\n     * 跳转\n     * @param {string} routerName\n     */\n    linkTo(routerName) {\n      this.$router.push({ name: routerName });\n    }\n  }\n};\n</script>\n<style scoped lang=\"scss\">\n.register {\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  &__header {\n    padding: 30px 40px 60px;\n    display: flex;\n    justify-content: space-between;\n    .logo {\n      display: flex;\n      align-items: center;\n      img {\n        margin: 0 5px;\n        width: 32px;\n        height: 32px;\n        transform: translateY(-3px);\n      }\n      h1 {\n        margin: 0;\n        font-size: 26px;\n        color: #2f54eb;\n      }\n    }\n    span {\n      margin: 0 10px;\n      font-size: 14px;\n      font-weight: 600;\n      user-select: none;\n      cursor: pointer;\n    }\n  }\n  &__main {\n    flex: 1 1;\n    background: url(\"http://h5.dooring.cn/h5_plus/static/login_draw.4b287e4f.png\")\n      no-repeat 0 0;\n    background-size: 494px 602px;\n    .form {\n      margin-left: 50%;\n      padding: 30px 40px 40px;\n      width: 400px;\n      border-radius: 20px;\n      transition: all 0.5s cubic-bezier(0.645, 0.045, 0.355, 1);\n      box-shadow: 0 2px 12px 0 rgba(47, 84, 235, 0.1);\n      .title {\n        margin: 0;\n        margin-bottom: 36px;\n        padding-bottom: 20px;\n        font-size: 30px;\n        font-weight: 500;\n        letter-spacing: 5px;\n        text-align: center;\n        user-select: none;\n      }\n      .account,\n      .password {\n        margin-bottom: 24px;\n        ::v-deep.el-input__inner {\n          padding: 4px 11px;\n          height: 48px;\n          line-height: 48px;\n          border: none;\n          border-radius: 30px;\n          background-color: #f5f5f5;\n          text-indent: 20px;\n          transition: all 0.5s;\n          &:focus {\n            border-color: #597ef7;\n            border-right-width: 1px !important;\n            outline: 0;\n            box-shadow: 0 0 0 2px rgba(47, 84, 235, 0.2);\n          }\n        }\n        ::v-deep.el-input__icon {\n          line-height: 48px;\n        }\n      }\n      .forget-pwd {\n        margin: -10px 10px 20px 0;\n        color: #2f54eb;\n        font-size: 14px;\n        text-align: right;\n        cursor: pointer;\n      }\n      .submit-btn {\n        padding: 6.4px 20px;\n        width: 100%;\n        height: 40px;\n        border: none;\n        border-radius: 40px;\n        font-size: 16px;\n        color: #ffffff;\n        letter-spacing: normal;\n        background-color: rgb(47, 84, 235);\n        text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.12);\n        box-shadow: 0 2px 0 rgba(0, 0, 0, 0.045);\n        transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        touch-action: manipulation;\n        cursor: pointer;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=2cf83225&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=2cf83225&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cf83225\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&id=2cf83225&scoped=true&lang=scss&\""],"sourceRoot":""}